# SampleMind AI v6 - Configuration Template
# Copy this file to .env and fill in your values

# =============================================================================
# AI API Keys (Get these from provider websites)
# =============================================================================

# Google Gemini AI - https://makersuite.google.com/app/apikey
# PRIMARY AI provider for music analysis
GOOGLE_AI_API_KEY=your_google_api_key_here

# OpenAI - https://platform.openai.com/api-keys
# FALLBACK AI provider
OPENAI_API_KEY=your_openai_api_key_here

# Anthropic (Claude) - https://console.anthropic.com/
# SPECIALIST AI provider (Priority 2) - Production coaching & creative suggestions
# REQUIRED for assistant-ui integration with Claude Sonnet 4.5
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# =============================================================================
# AI Model Configuration
# Latest models (as of 2024):
# - Gemini 2.5 Pro (2M context) - Primary audio analysis
# - Claude Sonnet 4.5 (200K) + Opus 4.1 (200K) - Production coaching
# - GPT-5 (256K) + GPT-4.5 Turbo (192K) - Code generation & fallback
# =============================================================================

# Primary models (recommended defaults)
DEFAULT_MODEL=gemini-2.5-pro
MUSIC_MODEL=gemini-2.5-pro
ANTHROPIC_MODEL=claude-sonnet-4.5
ANTHROPIC_OPUS_MODEL=claude-opus-4.1
OPENAI_MODEL=gpt-5
OPENAI_TURBO_MODEL=gpt-4.5-turbo

# Generation parameters
MAX_TOKENS=8192
TEMPERATURE=0.7

# =============================================================================
# Application Settings
# =============================================================================

ENVIRONMENT=development
LOG_LEVEL=INFO
BATCH_PROCESSING=true

# AI Response Caching (Cost Reduction) - NEW!
# Caching can reduce API costs by 60-80% for repeated analyses
AI_CACHE_ENABLED=true
AI_CACHE_BACKEND=redis  # Options: redis, file, memory
AI_CACHE_TTL_HOURS=168  # Cache lifetime in hours (168 = 1 week)
CACHE_ENABLED=true

# =============================================================================
# Database Configuration
# =============================================================================

# MongoDB (document database)
MONGODB_URL=mongodb://localhost:27017/samplemind

# Redis (caching and sessions)
REDIS_URL=redis://localhost:6379/0

# ChromaDB (vector database for embeddings)
CHROMADB_URL=http://localhost:8002

# =============================================================================
# Authentication
# =============================================================================

# JWT Configuration
JWT_SECRET_KEY=CHANGE_THIS_TO_A_RANDOM_SECRET_KEY_IN_PRODUCTION
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# DAW Integration
# =============================================================================

FL_STUDIO_INTEGRATION=true
REAL_TIME_ANALYSIS=true
STREAMING_ENABLED=true

# =============================================================================
# API Configuration
# =============================================================================

# Rate limiting
MAX_REQUESTS_PER_MINUTE=60
ENABLE_COST_OPTIMIZATION=true

# Multi-API support - 3-Tier Architecture
# Tier 1: Gemini (Primary) - Fast audio analysis, genre classification
# Tier 2: Claude (Specialist) - Production coaching, creative suggestions
# Tier 3: OpenAI (Fallback) - Emergency backup
PRIMARY_API=google_ai
SPECIALIST_API=anthropic
FALLBACK_API=openai
API_ROTATION_ENABLED=false
INTELLIGENT_ROUTING=true  # Auto-route tasks to best provider

# =============================================================================
# File Upload Settings
# =============================================================================

MAX_FILE_SIZE_MB=100
ALLOWED_AUDIO_FORMATS=wav,mp3,flac,aiff,m4a,ogg,opus

# =============================================================================
# Celery (Background Tasks)
# =============================================================================

CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# =============================================================================
# Development Settings
# =============================================================================

# Enable debug mode (development only!)
DEBUG=true
RELOAD=true

# CORS settings
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# =============================================================================
# Production Settings (uncomment for production)
# =============================================================================

# ENVIRONMENT=production
# DEBUG=false
# LOG_LEVEL=WARNING
# RELOAD=false
# CORS_ORIGINS=https://yourdomain.com

# =============================================================================
# MCP Server Configuration (for AI-assisted development)
# =============================================================================

# Brave Search API (for web search MCP)
# Get your key at: https://brave.com/search/api/
BRAVE_API_KEY=your_brave_api_key_here

# Context7 Documentation Access
DEFAULT_MINIMUM_TOKENS=1000

# =============================================================================
# Web App Configuration (Frontend)
# =============================================================================

# Development Server
VITE_PORT=5173
VITE_API_BASE_URL=http://localhost:8000

# Production
# VITE_API_BASE_URL=https://api.samplemind.ai

# =============================================================================
# Notes
# =============================================================================

# 1. Never commit .env file to git
# 2. Keep API keys secret
# 3. Use strong JWT_SECRET_KEY in production
# 4. Update MongoDB/Redis URLs for production
# 5. Set appropriate CORS_ORIGINS for your domain
# 6. ANTHROPIC_API_KEY is required for assistant-ui chat interface
# 7. BRAVE_API_KEY is optional (for MCP web search)
